<!DOCTYPE html>
<html>
<head>
<title>Hello canvas</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
</head>
<body>
<canvas id="canvas" width="800" height="480">
	Your browser does not support canvas
</canvas>
<script>
var getBoard = function() {
	// TODO Get it from the network!
	return {
		width: 800,
		height: 480,
		paths: [
			{ strokeColor: '#000000', strokeWidth: 1, path: [0, 0, 100, 100, 200, 0] },
			{ strokeColor: '#cccccc', strokeWidth: 1, path: [0, 100, 100, 400, 300, 100] },
		]
	}
};

var redraw = function(canvas) {
	canvas.width = canvas.width; // clear canvas
	
	console.log(board.width + ' ' + board.height);
	
	// TODO bounds checking etc
	var context = canvas.getContext('2d');
	$.each(board.paths, function(index, path) {
		console.log(path);
		context.beginPath();
		context.moveTo(0, 0);
		for (var i = 0; i < (path.path.length / 2); i++) {
			var point = path.path.slice(i * 2, (i * 2) + 2);
			context.lineTo(point[0], point[1]);
		}
		context.strokeStyle = path.strokeColor;
		context.stroke();
	});
};

$(document).ready(function() {
	var canvas = $('#canvas')[0];
	window.setInterval(redraw(canvas), 1000);
});
</script>
</body>
</html>